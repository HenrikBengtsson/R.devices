<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Captures a plot such that it can be redrawn later/elsewhere — capturePlot • R.devices</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Captures a plot such that it can be redrawn later/elsewhere — capturePlot"><meta property="og:description" content="Captures a plot such that it can be redrawn later/elsewhere.
This feature is only supported in R (&amp;gt;= 3.3.0)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">R.devices</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.17.2-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/R.devices-overview.html">R.devices overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/HenrikBengtsson/R.devices/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Captures a plot such that it can be redrawn later/elsewhere</h1>
    
    <div class="hidden name"><code>capturePlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Captures a plot such that it can be redrawn later/elsewhere.</p>
<p><em>This feature is only supported in R (&gt;= 3.3.0).</em></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">capturePlot</span><span class="op">(</span><span class="va">expr</span>, envir<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>, type<span class="op">=</span><span class="va">nulldev</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>expr</dt>
<dd><p>The <code><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></code> of graphing commands to be evaluated.</p></dd>

  <dt>envir</dt>
<dd><p>The <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></code> where <code>expr</code> should be evaluated.</p></dd>

  <dt>type</dt>
<dd><p>The type of graphics device used in the background.
   The choice should not matter since the result should be identical
   regardless.  All graphics is captured but any output is also voided
   by sending the output to a "null" file.</p></dd>

 <dt>...</dt>
<dd><p>Additional arguments passed to the graphics device.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns a <code>recordedplot</code> object, which can be</p>
<p></p>
<p><code><a href="https://rdrr.io/r/grDevices/recordplot.html" class="external-link">replayPlot</a>()</code>:ed.  If replayed in an
  interactive session, the plot is displayed in a new window.
  For conveniency, the object is also replayed when <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>:ed.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that plot dimensions/aspect ratios are not recorded.  This
  means that one does not have to worry about those when recording
  the plot.  Instead, they are specified when setting up the graphics
  device(s) in which the recorded plot is replayed (see example).</p>
    </div>
    <div id="replaying-replotting-on-a-different-architecture">
    <h2>Replaying / replotting on a different architecture</h2>
    <p>In order to replay a <code>recordedplot</code> object, it has to be replayed
 on an architecture that is compatible with the one who created the
 object.
 If this is not the case, then <code><a href="https://rdrr.io/r/grDevices/recordplot.html" class="external-link">replayPlot</a>()</code>
 will generate an <em>Incompatible graphics state</em> error.
 The <code><a href="architecture.html">as.architecture</a>()</code> function of this package tries
 to coerce between different architectures, such that one can replay
 across architectures using <code>replayPlot(as.architectures(g))</code>.
 For convenience, the recorded plot returned by <code>capturePlot()</code>
 is automatically coerced when <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>:ed.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Henrik Bengtsson</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Internally <code><a href="https://rdrr.io/r/grDevices/recordplot.html" class="external-link">recordPlot</a>()</code> is used.</p></div>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>[1] Paul Murrell et al.,
     <em>Recording and Replaying the Graphics Engine Display List</em>,
     December 2015.
     <a href="https://www.stat.auckland.ac.nz/~paul/Reports/DisplayList/dl-record.html" class="external-link">https://www.stat.auckland.ac.nz/~paul/Reports/DisplayList/dl-record.html</a><br></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric_version.html" class="external-link">getRversion</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="st">"3.3.0"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">oopts</span> <span class="op">&lt;-</span> <span class="fu">R.devices</span><span class="fu">::</span><span class="fu"><a href="devOptions.html">devOptions</a></span><span class="op">(</span><span class="st">"*"</span>, path<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"figures"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">capturePlot</span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Display</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Display with a 2/3 height-to-width aspect ratio</span></span></span>
<span class="r-in"><span><span class="fu"><a href="toNNN.html">toDefault</a></span><span class="op">(</span>aspectRatio<span class="op">=</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span>, <span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Redraw to many output formats using whatever PNG, EPS, and PDF</span></span></span>
<span class="r-in"><span><span class="co">## device outputs available</span></span></span>
<span class="r-in"><span><span class="fu"><a href="devEval.html">devEval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"{png}"</span>, <span class="st">"{eps}"</span>, <span class="st">"{pdf}"</span><span class="op">)</span>, aspectRatio<span class="op">=</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">R.devices</span><span class="fu">::</span><span class="fu"><a href="devOptions.html">devOptions</a></span><span class="op">(</span><span class="st">"*"</span>, path<span class="op">=</span><span class="va">oopts</span><span class="op">$</span><span class="va">path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co">## if (getRversion() &gt;= "3.3.0")</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in if (ext == "nulldev") {    pathname &lt;- nullfile()} else {    if (is.null(filename)) {        filename &lt;- sprintf("%s.%s", fullname, ext)    }    pathname &lt;- Arguments$getWritablePathname(filename, path = path)}:</span> missing value where TRUE/FALSE needed</span>
<span class="r-plt img"><img src="capturePlot-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9005.</p>
</div>

      </footer></div>

  


  

  </body></html>

